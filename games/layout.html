<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Games</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f2f5;
      margin: 0;
      padding: 40px 20px;
      color: #333;
      text-align: center;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 30px;
      color: #2c3e50;
    }

    h2 {
      font-size: 2rem;
      margin-top: 40px;
      color: #34495e;
    }

    #searchInput {
      padding: 10px 16px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      width: 100%;
      max-width: 400px;
      margin: 0 auto 20px;
      display: block;
    }

    .tabs {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 20px;
      gap: 10px;
    }

    .tab-button {
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      background-color: #e0e0e0;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }

    .tab-button.active {
      background-color: #3498db;
      color: white;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .container {
      max-width: 1280px;
      margin: auto;
    }

    .open-button {
      background-color: #27ae60;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      margin: 10px;
      transition: background 0.3s;
    }

    .open-button:hover {
      background-color: #2ecc71;
    }

    .button-container {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Games</h1>
    <input type="text" id="searchInput" placeholder="Search games..." />

    <div id="sections"></div>
    <div id="content"></div>
  </div>

  <script>
    const tools = [
      { label: '1v1.LOL', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/1v1-lol.html' },
      { label: 'Evil Glitch', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/evil-glitch.html' },
      { label: 'Fortzone Battle Royale', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/fortzone-battle-royale.html' },
      { label: 'Funny Shooter 2', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/funny-shooter-2.html' },
      { label: 'Pixel Shooter', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/pixel-shooter.html' },
      { label: 'Red VS Blue', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/red-vs-blue.html' },
      { label: 'Red VS Blue 2', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/red-vs-blue-2.html' },
      { label: '10 minutes till dawn', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/10-minutes-till-dawn.html' },
      { label: 'Gun Knight', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/gun-knight.html' },
      { label: 'Rotodefendo', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/rotodefendo.html' },
      { label: 'Counter Strike 1.6', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/shooter/counter-strike-1-6.html' },
      { label: 'There is no game', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/there-is-no-game.html' },
      { label: 'CircloO2', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/circloO2.html' },
      { label: '40xescape', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/40xescape.html' },
      { label: 'Wordle', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/wordle.html' },
      { label: 'Woodworm', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/woodworm.html' },
      { label: 'Cut The Rope', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/cut-the-rope.html' },
      { label: 'Block Blast', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/block-blast.html' },
      { label: 'Backrooms', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/backrooms.html' },
      { label: 'Backrooms 2D', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/backrooms-2d.html' },
      { label: 'Very Long Dog', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/very-long-dog.html' },
      { label: 'Tiny Fragments', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/tiny-fragments.html' },
      { label: '2048', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/2048.html' },
      { label: '2048 cupcakes', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/2048-cupcakes.html' },
      { label: '1', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/1.html' },
      { label: '9007199254740992', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/9007199254740992.html' },
      { label: 'Hextris', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/hextris.html' },
      { label: 'Trap The Cat', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/trap-the-cat.html' },
      { label: 'Trivia Crack', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/trivia-crack.html' },
      { label: 'Telephone Trouble', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/telephone-trouble.html' },
      { label: 'Recoil', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/recoil.html' },
      { label: 'Gobble', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/gobble.html' },
      { label: 'Portal (Flash Version)', url: 'https://cdn.jsdelivr.net/gh/AlexDuyNguyen/gamesiteallprojects@main/games/puzzle/portal-flash-version.html' }
//      { label: 'qwertyuiopasdfghjklzxcvbnm', url: 'qwertyuiopasdfghjklzxcvbnm' },
    ];

    // Auto-generate IDs and detect group
    tools.forEach(tool => {
      tool.id = tool.url.split('/').pop().replace(/[^a-z0-9]/gi, '');
      const urlParts = tool.url.split('/');
      tool.groups = urlParts[urlParts.length - 2];
    });

    const sectionsContainer = document.getElementById('sections');
    const contentContainer = document.getElementById('content');

    const groupedTools = tools.reduce((acc, tool) => {
      if (!acc[tool.groups]) acc[tool.groups] = [];
      acc[tool.groups].push(tool);
      return acc;
    }, {});

    for (const [group, groupTools] of Object.entries(groupedTools)) {
      const section = document.createElement('div');
      const heading = document.createElement('h2');
      heading.textContent = group.toUpperCase();
      const tabs = document.createElement('div');
      tabs.className = 'tabs';

      groupTools.forEach(tool => {
        const tabButton = document.createElement('button');
        tabButton.textContent = tool.label.toUpperCase();
        tabButton.className = 'tab-button';
        tabButton.dataset.tab = tool.id;
        tabs.appendChild(tabButton);

        const tabContent = document.createElement('div');
        tabContent.id = tool.id;
        tabContent.className = 'tab-content';
        tabContent.innerHTML = `
          <div class="button-container">
            <button class="open-button" data-tool="${tool.id}">Open in New Window</button>
          </div>
        `;
        contentContainer.appendChild(tabContent);
      });

      section.appendChild(heading);
      section.appendChild(tabs);
      sectionsContainer.appendChild(section);
    }

    document.addEventListener('click', e => {
      if (e.target.classList.contains('tab-button')) {
        const target = e.target.dataset.tab;
        document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(cont => cont.classList.remove('active'));

        e.target.classList.add('active');
        const activeTab = document.getElementById(target);
        activeTab.classList.add('active');

        setTimeout(() => {
          activeTab.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      }

      if (e.target.matches('.open-button')) {
        const tool = e.target.dataset.tool;
        const toolData = tools.find(t => t.id === tool);
        fetch(toolData.url)
          .then(res => res.text())
          .then(html => {
            const newWindow = window.open('about:blank', '_blank');
            setTimeout(() => {
              newWindow.document.open();
              newWindow.document.write(html);
              newWindow.document.close();
            }, 100);
          });
      }
    });

    // Search filter
    document.getElementById('searchInput').addEventListener('input', function () {
      const term = this.value.toLowerCase();
      document.querySelectorAll('.tab-button').forEach(btn => {
        const match = btn.textContent.toLowerCase().includes(term);
        btn.style.display = match ? 'inline-block' : 'none';
      });
    });
  </script>
</body>
</html>
